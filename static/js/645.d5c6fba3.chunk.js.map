{"version":3,"file":"static/js/645.d5c6fba3.chunk.js","mappings":"kOAIMA,EAAY,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,MACjBC,GAAWC,EAAAA,EAAAA,MACjB,OACE,yBACE,SAAC,KAAD,CAASC,GAAE,kBAAaJ,GAAMK,MAAO,CAAEC,KAAMJ,GAA7C,SACGD,KAFID,IAQb,IAEAD,EAAUQ,SAAW,CACnBP,GAAIQ,IAAAA,OAAAA,WACJP,MAAOO,IAAAA,OAAAA,YCfT,IAAMC,EAAa,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACpB,OACE,wBACGA,EAAMC,KAAI,YAAoB,IAAjBX,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,MAChB,OAAO,SAAC,EAAD,CAAWD,GAAIA,EAAaC,MAAOA,GAAXD,SAMvC,IAEAS,EAAWF,SAAW,CACpBG,MAAOF,IAAAA,MAAAA,a,0MCfTI,IAAAA,SAAAA,QAAyB,+BACzB,IAAMC,EAAM,mCAECC,EAAa,mCAAG,oGACJF,IAAAA,IAAA,sCAAyCC,IADrC,cACrBE,EADqB,yBAEpBA,EAASC,KAAKC,SAFM,2CAAH,qDAKbC,EAAc,mCAAG,WAAMC,GAAN,uFACLP,IAAAA,IAAA,gCACIC,EADJ,kBACiBM,IAFZ,cACtBJ,EADsB,yBAIrBA,EAASC,KAAKC,SAJO,2CAAH,sDAOdG,EAAc,mCAAG,WAAMC,GAAN,uFACLT,IAAAA,IAAA,iBAAoBS,EAApB,oBAAuCR,IADlC,cACtBE,EADsB,yBAErBA,EAASC,MAFY,2CAAH,sDAKdM,EAAc,mCAAG,WAAMD,GAAN,uFACLT,IAAAA,IAAA,iBAAoBS,EAApB,4BAA+CR,IAD1C,cACtBE,EADsB,yBAErBA,EAASC,KAAKO,MAFO,2CAAH,sDAKdC,EAAc,mCAAG,WAAMH,GAAN,uFACLT,IAAAA,IAAA,iBAAoBS,EAApB,4BAA+CR,IAD1C,cACtBE,EADsB,yBAErBA,EAASC,KAAKC,SAFO,2CAAH,uD,gICkC3B,UAvDA,WAAmB,IAAD,EAChB,GAAsCQ,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAC3C,GAAoCP,EAAAA,EAAAA,UAASM,GAA7C,eAAOE,EAAP,KAAmBC,EAAnB,KAiCA,OA/BAC,EAAAA,EAAAA,YAAU,WACR,GAAc,KAAVJ,EAAJ,CAGA,IAAMK,EAAY,mCAAG,8GAEIlB,EAAAA,EAAAA,IAAea,GAFnB,UAEXM,EAFW,OAGjBV,EAAeU,GACO,IAAlBA,EAAOC,OAJM,yCAKRC,EAAAA,OAAAA,QAAA,wCAAgDN,KALxC,uDAQjBO,QAAQC,IAAI,KAAMC,SARD,yDAAH,qDAWlBN,OACC,CAACL,EAAOE,KAgBT,4BACE,kBAAMU,SAXW,SAAAC,GACnBA,EAAMC,iBACa,KAAfZ,EAIJH,EAAgB,CAAEC,MAAOE,IAHvBM,EAAAA,OAAAA,QAAe,2BAQf,WACE,kBACEO,KAAK,OACLC,KAAK,SACLC,MAAOf,EACPgB,YAAY,eACZC,SArBa,SAAAN,GACnBV,EAAcU,EAAMO,OAAOH,MAAMI,mBAsB7B,mBAAQN,KAAK,SAAb,uBAEDpB,EAAYY,OAAS,GAAKP,IAAS,SAAC,IAAD,CAAYrB,MAAOgB","sources":["components/MovieItem/MovieItem.jsx","components/MoviesList/MoviesList.jsx","services/FilmApi.js","views/Movies/Movies.jsx"],"sourcesContent":["import React from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst MovieItem = ({ id, title }) => {\n  const location = useLocation();\n  return (\n    <li key={id}>\n      <NavLink to={`/movies/${id}`} state={{ from: location }}>\n        {title}\n      </NavLink>\n    </li>\n  );\n};\n\nexport default MovieItem;\n\nMovieItem.propType = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport MovieItem from 'components/MovieItem/MovieItem';\nimport PropTypes from 'prop-types';\n\nconst MoviesList = ({ films }) => {\n  return (\n    <ul>\n      {films.map(({ id, title }) => {\n        return <MovieItem id={id} key={id} title={title} />;\n      })}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n\nMoviesList.propType = {\n  films: PropTypes.array.isRequired,\n};\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst KEY = '3c9b3437ebab156a512248e157c99300';\n\nexport const getTrendFilms = async () => {\n  const response = await axios.get(`/trending/movie/day?api_key=${KEY}`);\n  return response.data.results;\n};\n\nexport const getSearchFilms = async searchValue => {\n  const response = await axios.get(\n    `/search/movie?api_key=${KEY}&query=${searchValue}`\n  );\n  return response.data.results;\n};\n\nexport const getFilmDetails = async movieId => {\n  const response = await axios.get(`/movie/${movieId}?api_key=${KEY}`);\n  return response.data;\n};\n\nexport const getFilmCredits = async movieId => {\n  const response = await axios.get(`/movie/${movieId}/credits?api_key=${KEY}`);\n  return response.data.cast;\n};\n\nexport const getFilmReviews = async movieId => {\n  const response = await axios.get(`/movie/${movieId}/reviews?api_key=${KEY}`);\n  return response.data.results;\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getSearchFilms } from '../../services/FilmApi';\nimport { Notify } from 'notiflix';\nimport MoviesList from 'components/MoviesList/MoviesList';\n\nfunction Movies() {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const [inputValue, setInputValue] = useState(query);\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n    const searchMovies = async () => {\n      try {\n        const movies = await getSearchFilms(query);\n        setSearchQuery(movies);\n        if (movies.length === 0) {\n          return Notify.failure(`Sorry, we have no films named ${inputValue}`);\n        }\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n    searchMovies();\n  }, [query, inputValue]);\n\n  const handleChange = event => {\n    setInputValue(event.target.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (inputValue === '') {\n      Notify.warning('Please, type something');\n      return;\n    }\n    setSearchParams({ query: inputValue });\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"search\"\n          value={inputValue}\n          placeholder=\"start search\"\n          onChange={handleChange}\n        />\n        <button type=\"submit\">search</button>\n      </form>\n      {searchQuery.length > 0 && query && <MoviesList films={searchQuery} />}\n    </div>\n  );\n}\n\nexport default Movies;\n"],"names":["MovieItem","id","title","location","useLocation","to","state","from","propType","PropTypes","MoviesList","films","map","axios","KEY","getTrendFilms","response","data","results","getSearchFilms","searchValue","getFilmDetails","movieId","getFilmCredits","cast","getFilmReviews","useState","searchQuery","setSearchQuery","useSearchParams","searchParams","setSearchParams","query","get","inputValue","setInputValue","useEffect","searchMovies","movies","length","Notify","console","log","message","onSubmit","event","preventDefault","type","name","value","placeholder","onChange","target","toLowerCase"],"sourceRoot":""}